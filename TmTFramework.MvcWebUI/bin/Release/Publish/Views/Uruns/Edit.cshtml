@model TmTFramework.Entities.Concrete.Urun

@{
    string hidden = "";
    if (IsAjax)
    {
        Layout = null;
        hidden = "hidden";
    }
}

    <section class="content-header @hidden">
        <h1>
            Ürün Kayıt
        </h1>
    </section>

@using (Ajax.BeginForm(null, null, new AjaxOptions { HttpMethod = "POST", OnFailure = "Hatali", OnSuccess = "Basarili" }, new { id = "formKapsayici" }))
{
    @Html.HiddenFor(model => model.Id)

    @Html.AntiForgeryToken()
    <section class="content">
        <div class="box box-default">
            <div class="box-body">
                <div class="row">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="col-md-6">
                        <div class="form-group">
                            @Html.LabelFor(model => model.Marka, htmlAttributes: new { @class = "control-label " })
                            @Html.EditorFor(model => model.Marka, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(x => x.Marka) } })
                            @Html.ValidationMessageFor(model => model.Marka, "", new { @class = "text-danger" })
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Kod, htmlAttributes: new { @class = "control-label " })
                            @Html.EditorFor(model => model.Kod, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(x => x.Kod) } })
                            @Html.ValidationMessageFor(model => model.Kod, "", new { @class = "text-danger" })
                        </div>


                        <div class="form-group">
                            @Html.LabelFor(model => model.RafKodu, htmlAttributes: new { @class = "control-label " })
                            @Html.EditorFor(model => model.RafKodu, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(x => x.Marka) } })
                            @Html.ValidationMessageFor(model => model.RafKodu, "", new { @class = "text-danger" })
                        </div>




                    </div>
                    <div class="col-md-6">


                        <div class="form-group">
                            @Html.LabelFor(model => model.Aciklama, htmlAttributes: new { @class = "control-label " })
                            @Html.EditorFor(model => model.Aciklama, new { htmlAttributes = new { @class = "form-control", placeholder = Html.DisplayNameFor(x => x.Aciklama) } })
                            @Html.ValidationMessageFor(model => model.Aciklama, "", new { @class = "text-danger" })
                        </div>




                    </div>
                </div>
            </div>
        </div>
        <div class="box-footer">

            @Html.Partial("_FormKaydetIptalPartial", new ViewDataDictionary { { "SubmitButtonText", "Kaydet" } })
        </div>
    </section>
}


<script>


    function Basarili(cevap) {
        if (cevap.sonuc) {
            toastr.success(cevap.mesaj);
            MustangModal.close();
        } else {
            toastr.error(cevap.mesaj);
        }
    }
    function Hatali(cevap) {
        console.log(cevap);
        errorAlert2(cevap)

    }
    function PencereKapat() {
        MustangModal.close();
    }


</script>












